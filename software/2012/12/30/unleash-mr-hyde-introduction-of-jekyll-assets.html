<!DOCTYPE html>
<html class="nojs">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Unleash Mr.Hyde! Introduction of Jekyll-Assets. * ixti's personal scratchpad</title>
    <meta name="description" content="Personal blog of Aleksey V Zapparov AKA ixti">
    <meta name="viewport" content="width=device-width">
    <meta name="generator" content="jekyll">
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Open+Sans+Condensed:300:latin,cyrillic|Open+Sans::latin">
    <link rel="stylesheet" href="/assets/app-7ec9dff94a465c2ed5d6865f8d106d58.css">
    <script src="/assets/app-a5eac6a6dcd80a63d9a7222d0d345b93.js"></script>
  </head>
  <body class="light">
    <header id="header">
      <h1><a href="/"><span>personal scratchpad</span></a></h1>
      <div id="top-navigation" class="navbar">
        <ul>
          <li><a href="https://github.com/ixti/ixti.github.com">Sources</a></li>
          <li id="js-theme-switcher"><a href="#">Switch Theme</a></li>
        </ul>
        <ul>
          <li><a href="https://github.com/ixti">GitHub</a></li>
          <li><a href="http://es.linkedin.com/in/zapparov">LinkedIn</a></li>
          <li><a href="https://twitter.com/zapparov">Twitter</a></li>
          <li><a href="http://feeds.feedburner.com/ixti">RSS</a></li>
        </ul>
      </div>
    </header>

    <article class="post">
  <header>
    <h2>Unleash Mr.Hyde! Introduction of Jekyll-Assets.</h2>
    
    <ul class="post-info">
  <li>Date: 30 Dec 2012</li>

  
    <li>Category: <a href="/categories/software.html">software</a></li>
  

  
    <li>Tagged with: <a href="/tags/blog.html">blog</a>, <a href="/tags/jekyll.html">jekyll</a>, <a href="/tags/octopress.html">octopress</a>, <a href="/tags/plugin.html">plugin</a>, <a href="/tags/assets.html">assets</a>, and <a href="/tags/ruby.html">ruby</a></li>
  
</ul>

  </header>

  <p>Not so long ago I have released <a href="http://ixti.net/jekyll-assets/">Jekyll-Assets</a> plugin, that adds
Rails-alike assets pipeline for <a href="http://jekyllrb.com/">Jekyll</a> or <a href="http://octopress.org/">Octopress</a>
powered blogs. As later <a href="https://twitter.com/imathis/status/284089936884420608">Brandon Mathis mentioned</a>, a reference to
&ldquo;rails-alike&rdquo; gives almost zero understanding of what plugin actually does. In
few words, with this plugin you can write your assets in languages like
CoffeeScript, SASS, LESS, automagically minify and concatenate assets,
and more ;)) So this is an introduction to some of core features and
how to enable jekyll-assets for your blog&hellip;</p>

<p>As I said before jekyll-assets is a plug-in for Jekyll and Octopress. Setup
process is the same for both of them, so examples will be shown on a
Jekyll-based blog, but instructions are quiet similar for Octopress users with
few differences in &ldquo;default&rdquo; paths you have to use.</p>

<p>For visual demonstration I&rsquo;ll be using an <a href="https://github.com/ixti/jekyll-assets-demo">example blog</a>. It is under
git control, so you can always see <a href="https://github.com/ixti/jekyll-assets-demo/commits/master">history</a> of it&rsquo;s evolution.</p>

<p>First of all let&rsquo;s take a quick look at what we are going to do. Assume we have
a <a href="https://github.com/ixti/jekyll-assets-demo/commit/111b2ae15550f6654be31291eb9e578c59272d57">very simple blog</a> with some posts. And we&rsquo;re gonna style it up with
<a href="http://twitter.github.com/bootstrap/">Twitter&rsquo;s Bootstrap</a> framework. And we are going to add some search
by tags feature using <a href="http://twitter.github.com/bootstrap/javascript.html#typeahead">typeahead</a> <a href="http://jquery.com/">jQuery</a> plugin
from Bootstraps&#39; toolbox. Also we are going to write our own assets in
<a href="http://sass-lang.com/">SASS</a> and <a href="http://coffeescript.org/">CoffeeScript</a>.</p>

<h3>Preparations</h3>

<p>As we are going to have our javascript assets to be written in CoffeeScript and,
we will need <a href="https://github.com/sstephenson/execjs">ExecJS</a>-supported runtime on system to invoke it.</p>

<p>That means that you&rsquo;ll need to have <a href="http://nodejs.org/">Node</a> and CoffeeScript Node module
installed. Also, probably, you would like to have <a href="https://github.com/mishoo/UglifyJS">UglifyJS</a> Node
module installed as well to have <em>minification</em> (alternatively you can use YUI
compressor for this purpose).</p>

<h3>Initial state</h3>

<p>Before we start, let&rsquo;s overview <a href="https://github.com/ixti/jekyll-assets-demo/commit/111b2ae15550f6654be31291eb9e578c59272d57">initial structure</a> of our blog:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">.
├── _assets/
│   └── javascripts/
│       └── vendor/
├── _config.yml
├── Gemfile
├── Gemfile.lock
├── index.html
├── _layouts/
│   ├── default.html
│   └── post.html
├── _posts/
│   ├── 2012-01-18-it-s-the-final-countdown-the-only.md
│   └── ...
└── README.md
</code></pre></div>
<h3>Installation</h3>

<p>First of all we&rsquo;ll need to add some gems into <code>Gemfile</code>:</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1">#</span>
<span class="c1"># jekyll-assets plugin itself</span>
<span class="c1">#</span>

<span class="n">gem</span> <span class="s2">&quot;jekyll-assets&quot;</span>

<span class="c1">#</span>
<span class="c1"># Additional gems for jekyll-assets</span>
<span class="c1">#</span>

<span class="n">gem</span> <span class="s2">&quot;coffee-script&quot;</span> <span class="c1"># We want to write our javascripts in CoffeeScript</span>
<span class="n">gem</span> <span class="s2">&quot;uglifier&quot;</span>      <span class="c1"># And we want our javascripts to be minified with UglifyJS</span>
<span class="n">gem</span> <span class="s2">&quot;sass&quot;</span>          <span class="c1"># And we want to write our stylesheets using SCSS/SASS</span>
</code></pre></div>
<p>Let&rsquo;s slow down and take a closer look on the required gems above:</p>

<ul>
<li><code>jekyll-assets</code>: This is plug-in itself, nothing to say more</li>
<li><code>coffee-script</code>: This gem will allow us to write javascripts using
CoffeeScript language</li>
<li><code>uglifier</code>: This gem will allow us to use UglifyJS for compiled javascripts
minification</li>
<li><code>sass</code>: This gem will allow us to write our stylesheets using SASS or SCSS and
also it will allow us compress our compiled stylesheets.</li>
</ul>

<p>After you have put these lines into your <code>Gemfile</code>, run <code>bundle</code> to install
dependencies. Now you are ready to enable plug-in. That&rsquo;s really simple, just
add following line into your <code>_plugins/ext.rb</code> file (create it if you don&rsquo;t have
such one yet):</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="nb">require</span> <span class="s2">&quot;jekyll-assets&quot;</span>
</code></pre></div>
<p>That&rsquo;s all. Installation is complete. Now let&rsquo;s add some assets.</p>

<h3>Some basic assets</h3>

<p>By default, jekyll-assets will search for assets under following self-describing
paths (relative to your sources root):</p>

<ul>
<li><code>_assets/images/</code></li>
<li><code>_assets/stylesheets/</code></li>
<li><code>_assets/javascripts/</code></li>
</ul>

<p>So let&rsquo;s create these directories and some base assets.</p>

<p>First of all we will put <code>noise.png</code> (nice background lovely generated with
<a href="http://www.noisetexturegenerator.com/">noise generator</a>) under <code>_assets/images</code> directory.</p>

<p>Now let&rsquo;s add some vendors:</p>

<ul>
<li>we&rsquo;ll save jQuery as <code>_assets/javascripts/vendor/jquery.js</code></li>
<li>and <a href="http://modernizr.com/">Modernizr</a> as <code>_assets/javascripts/vendor/modernizr.js</code></li>
<li>and all SASS files of <a href="https://github.com/jlong/sass-twitter-bootstrap">SASS port of Bootstrap</a>
under <code>_assets/stylesheets/vendor/bootstrap</code> directory.</li>
</ul>

<p>OK. Now let&rsquo;s <del>put a smile on that face</del> style our blog a little bit. To do so
we&rsquo;ll create a simple <code>_assets/stylesheets/app.css.sass</code> file first with
something like this:</p>
<div class="highlight"><pre><code class="language-sass" data-lang="sass"><span class="nt">body</span>
  <span class="na">background-color</span><span class="o">:</span> <span class="mh">#eee</span>
  <span class="na">background-image</span><span class="o">:</span> <span class="sx">url(asset_path(&#39;noise.png&#39;)</span><span class="p">)</span>
</code></pre></div>
<p>Notice that despite the fact that <code>noise.png</code> is kept under different directory
we refer it using so-called &ldquo;logical path&rdquo; which is relative to the paths where
jekyll-assets will look for assets. Let&rsquo;s include bootstrap, the easiest way
would be to add a line like this one to the op of our main stylesheet file:</p>
<div class="highlight"><pre><code class="language-sass" data-lang="sass"><span class="c1">//= require vendor/bootstrap/bootstrap</span>
</code></pre></div>
<p>But first of all that looks ugly, secondly, we don&rsquo;t need &ldquo;full&rdquo; bootstrap. So
we will require <code>vendor/bootstrap</code> instead, will create this file as
<code>_assets/stylesheets/vendor/bootstrap.css.scss</code> and will include only those
parts we interested in:</p>
<div class="highlight"><pre><code class="language-sass" data-lang="sass"><span class="k">@import</span> <span class="s">&quot;bootstrap/variables&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;bootstrap/mixins&quot;;</span>

<span class="c1">// CSS Reset</span>
<span class="k">@import</span> <span class="s">&quot;bootstrap/reset&quot;;</span>

<span class="c1">// Grid system and page structure</span>
<span class="k">@import</span> <span class="s">&quot;bootstrap/scaffolding&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;bootstrap/layouts&quot;;</span>

<span class="c1">// Base CSS</span>
<span class="k">@import</span> <span class="s">&quot;bootstrap/type&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;bootstrap/forms&quot;;</span>

<span class="c1">// Components: common</span>
<span class="k">@import</span> <span class="s">&quot;bootstrap/dropdowns&quot;;</span>

<span class="c1">// Components: Nav</span>
<span class="k">@import</span> <span class="s">&quot;bootstrap/navs&quot;;</span>
<span class="k">@import</span> <span class="s">&quot;bootstrap/navbar&quot;;</span>

<span class="c1">// Components: Misc</span>
<span class="k">@import</span> <span class="s">&quot;bootstrap/labels-badges&quot;;</span>

<span class="c1">// Utility classes</span>
<span class="k">@import</span> <span class="s">&quot;bootstrap/utilities&quot;;</span>
</code></pre></div>
<p>So, let&rsquo;s mixin helpers of Bootstrap into our main stylesheet and make it even
more funky. Here&rsquo;s what our <code>app.css.sass</code> will look like after all:</p>
<div class="highlight"><pre><code class="language-sass" data-lang="sass"><span class="c1">//= require vendor/bootstrap</span>


<span class="k">@import</span> <span class="s">&quot;vendor/bootstrap/mixins&quot;</span>


<span class="nt">body</span>
  <span class="na">background-color</span><span class="o">:</span> <span class="mh">#eee</span>
  <span class="na">background-image</span><span class="o">:</span> <span class="sx">url(asset_path(&#39;noise.png&#39;)</span><span class="p">)</span>


<span class="nn">#content</span>
  <span class="na">background-color</span><span class="o">:</span> <span class="mh">#fff</span>
  <span class="na">border</span><span class="o">:</span> <span class="mi">1</span><span class="kt">px</span> <span class="no">solid</span> <span class="mh">#ccc</span>

  <span class="k">@include</span><span class="nd"> border-radius</span><span class="p">(</span><span class="mi">6</span><span class="kt">px</span><span class="p">)</span>
  <span class="k">@include</span><span class="nd"> box-shadow</span><span class="p">(</span><span class="mi">0</span> <span class="mi">1</span><span class="kt">px</span> <span class="mi">3</span><span class="kt">px</span> <span class="nf">rgba</span><span class="p">(</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">,.</span><span class="mi">1</span><span class="p">))</span>

  <span class="na">margin</span><span class="o">:</span> <span class="mi">25</span><span class="kt">px</span> <span class="no">auto</span>
  <span class="na">padding</span><span class="o">:</span> <span class="mi">25</span><span class="kt">px</span>
  <span class="na">width</span><span class="o">:</span> <span class="mi">940</span><span class="kt">px</span>


<span class="nn">#js-tag-search</span>
  <span class="na">display</span><span class="o">:</span> <span class="no">none</span>


<span class="nc">.js</span>
  <span class="nt">body</span>
    <span class="k">@include</span><span class="nd"> opacity</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

    <span class="k">&amp;</span><span class="nc">.is-ready</span>
      <span class="k">@include</span><span class="nd"> opacity</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
      <span class="k">@include</span><span class="nd"> transition</span><span class="p">(</span><span class="no">opacity</span> <span class="mi">1</span><span class="kt">s</span><span class="p">)</span>

  <span class="nn">#js-tag-search</span>
    <span class="na">display</span><span class="o">:</span> <span class="no">block</span>
</code></pre></div>
<p>Now, when our styles are ready, let&rsquo;s add some basic JavaScript file as well.
Let&rsquo;s create <code>_assets/javascripts/app.js.coffee</code> with following content:</p>
<div class="highlight"><pre><code class="language-coffeescript" data-lang="coffeescript"><span class="c1">#= require vendor/jquery</span>

<span class="nx">$</span> <span class="nf">-&gt;</span>
  <span class="nx">$</span><span class="p">(</span><span class="s">&quot;body&quot;</span><span class="p">).</span><span class="nx">addClass</span> <span class="s">&quot;is-ready&quot;</span>
</code></pre></div>
<p>Hooray! We&rsquo;re <a href="https://github.com/ixti/jekyll-assets-demo/commit/06e4c46c841e51d8e4b465527a84cdb635313f19">ready</a> to use these assets in our layout. But before
we&rsquo;ll continue here&rsquo;s an overview of our assets:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">./_assets/
├── images/
│   └── noise.png
├── javascripts/
│   ├── app.js.coffee.erb
│   └── vendor/
│       ├── jquery.js
│       └── modernizr.js
└── stylesheets/
    ├── app.css.sass
    └── vendor/
        ├── bootstrap/
        │   ├── _accordion.scss
        │   └── ...
        └── bootstrap.css.scss
</code></pre></div>
<h5>Using assets</h5>

<p>Here&rsquo;s how our layout will look like:</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;title&gt;</span>My Blog<span class="nt">&lt;/title&gt;</span>
    {% stylesheet app %}
    <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span><span class="p">{</span><span class="o">%</span> <span class="nx">asset</span> <span class="nx">vendor</span><span class="o">/</span><span class="nx">modernizr</span> <span class="o">%</span><span class="p">}</span><span class="nt">&lt;/script&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;content&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;container&quot;</span><span class="nt">&gt;</span>
        {{ content }}
      <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>

    {% javascript app %}
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div>
<p>I believe that this example is simple enough to understand, but here&#39;a a quick
overview of what is happening there:</p>

<ul>
<li><code>{% stylesheet app %}</code>
will generate a <code>&lt;link&gt;</code> tag with URL to our <code>app.css</code>
(<code>_assets/stylesheets/app.css.sass</code>)</li>
<li><code>{% asset vendor/modernizr %}</code>
will return compiled body of <code>vendor/modernizr</code>
(<code>_assets/javascripts/vendor/modernizr.js</code>)</li>
<li><code>{% javascript app %}</code>
will generate <code>&lt;script&gt;</code> tag with URL to our <code>app.js</code>
(<code>_assets/javascripts/app.js.coffee</code>)</li>
</ul>

<p>Notice, that we may avoid file extension when we use <code>stylesheet</code> or
<code>javascript</code> liquid tags, so the above are shortcuts for:</p>

<ul>
<li><code>{% stylesheet app.css %}</code></li>
<li><code>{% javascript app.js %}</code></li>
</ul>

<p>Also, notice, that despite that our asset files are in fact have <code>.coffee</code>
extension, we call this file as <code>app.js</code> anyway. So we can say that we use
&ldquo;logical&rdquo; extension. To better understand this concept, all these files will be
treated as <code>foobar.js</code>:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">foobar.js.coffee
foobar.js.coffee.erb
foobar.coffee
foobar.coffee.erb
</code></pre></div>
<p>Same thing about <code>*.css</code>. This is so called pipeline. So <code>foobar.js.coffee.erb</code>
will be first rendered with <em>ERB</em>, then it will be compiled with CoffeeScript.
And CoffeeScript is a JavaScript type, so we can avoid <code>.js</code> extension, but we
leave it for readability.</p>

<p>Here&rsquo;s list of Liquid tags you might want to use in your templates:</p>

<ul>
<li><code>{% javascript &lt;asset&gt; %}</code>:
Generates <code>&lt;script&gt;</code> tag for given asset</li>
<li><code>{% stylesheet &lt;asset&gt; %}</code>:
Generates <code>&lt;link rel=&quot;stylesheet&quot;&gt;</code> tag for given asset</li>
<li><code>{% asset_path &lt;asset&gt; %}</code>:
Generates URL for an asset. Useful for images, e.g.
<code>&lt;img src=&quot;{% asset_path me.jpg %}&quot; alt=&quot;Alexey V Zapparov&quot; /&gt;</code></li>
<li><code>{% asset &lt;asset&gt; %}</code>:
Returns compiled source of an asset. You can use it to <em>embed</em> some asset,
e.g. Modernizr.</li>
</ul>

<h5>Helpers available inside assets</h5>

<p>You can use following helpers/methods inside your ERB, SASS and SCSS files:</p>

<ul>
<li><code>asset_data_uri(asset_logical_name)</code>: Returns encoded Base64 data URI. Use it
to embed images into your stylesheets.</li>
<li><code>asset_path(asset_logical_name)</code>: Returns URL of compiled asset.</li>
</ul>

<h3>Let&rsquo;s go crazy now!</h3>

<p>As final step with asets let&rsquo;s make our <code>app.js</code> more dynamic and add list of
our posts with inks, titles and tags to allow search throught them with
JavaScript. For such crazy thing you will need ERB, rename <code>app.js.coffee</code> to
<code>app.js.coffee.erb</code> and now you can write something like this inside of it:</p>
<div class="highlight"><pre><code class="language-coffeescript" data-lang="coffeescript"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span> <span class="o">&lt;%=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">dump</span> <span class="nx">site</span><span class="p">.</span><span class="nx">posts</span><span class="p">.</span><span class="nx">map</span> <span class="p">{</span> <span class="o">|</span><span class="nx">p</span><span class="o">|</span> <span class="nx">p</span><span class="p">.</span><span class="nx">to_liquid</span><span class="p">[</span><span class="s">&quot;title&quot;</span><span class="p">]</span> <span class="p">}</span> <span class="o">%&gt;</span>
</code></pre></div>
<p>Notice, that to use <code>JSON</code> you will ned to require it first. It&rsquo;s a standard
Ruby library s no need for extra step despite adding follwoing line into your
<code>_plugins/ext.rb</code> file:</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="nb">require</span> <span class="s2">&quot;json&quot;</span>
</code></pre></div>
<p>Enough talking, let&rsquo;s create something useful. We&rsquo;ll add a navigation bar (from
Bootstrap) with search field into our layout like so:</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;navbar navbar-static-top&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;navbar-inner&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;container&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;/&quot;</span> <span class="na">class=</span><span class="s">&quot;brand&quot;</span><span class="nt">&gt;</span>My Blog<span class="nt">&lt;/a&gt;</span>

      <span class="nt">&lt;form</span> <span class="na">id=</span><span class="s">&quot;js-tag-search&quot;</span> <span class="na">class=</span><span class="s">&quot;form-search navbar-form pull-right&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">class=</span><span class="s">&quot;input-medium search-query&quot;</span>
               <span class="na">placeholder=</span><span class="s">&quot;Type tags to search&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/form&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div>
<p>Similar to stylesheets, we will save all jQuery plugins from Bootstrap into
<code>_assets/javascripts/vendor/bootstrap</code>:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">./_assets/
├── images/
│   └── noise.png
├── javascripts/
│   ├── app.js.coffee.erb
│   └── vendor/
│       ├── bootstrap/
│       │   ├── bootstrap-affix.js
│       │   └── ...
│       ├── jquery.js
│       └── modernizr.js
└── stylesheets/
    ├── app.css.sass
    └── vendor/
        ├── bootstrap/
        │   ├── _accordion.scss
        │   └── ...
        └── bootstrap.css.scss
</code></pre></div>
<p>Then we&rsquo;ll add <code>require bootstrap-typeahead</code> directive into our main file with
some initialization code, and finally our <code>app.js.coffee.erb</code> will look like:</p>
<div class="highlight"><pre><code class="language-coffeescript" data-lang="coffeescript"><span class="c1">#= require vendor/jquery</span>
<span class="c1">#= require vendor/bootstrap/bootstrap-typeahead</span>

<span class="nx">$</span> <span class="nf">-&gt;</span>
  <span class="nx">$</span><span class="p">(</span><span class="s">&quot;body&quot;</span><span class="p">).</span><span class="nx">addClass</span> <span class="s">&quot;is-ready&quot;</span>

  <span class="nx">$</span><span class="p">(</span><span class="s">&quot;#js-tag-search input&quot;</span><span class="p">).</span><span class="nx">typeahead</span>
    <span class="nv">source: </span><span class="o">&lt;%=</span>
      <span class="nx">JSON</span><span class="p">.</span><span class="nx">dump</span> <span class="nx">site</span><span class="p">.</span><span class="nx">posts</span><span class="p">.</span><span class="nx">map</span> <span class="p">{</span> <span class="o">|</span><span class="nx">p</span><span class="o">|</span>
        <span class="p">[</span><span class="nx">p</span><span class="p">.</span><span class="nx">to_liquid</span><span class="p">[</span><span class="s">&quot;title&quot;</span><span class="p">],</span> <span class="nx">p</span><span class="p">.</span><span class="nx">url</span><span class="p">,</span> <span class="nx">p</span><span class="p">.</span><span class="nx">tags</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s">&quot;,&quot;</span><span class="p">)]</span>
      <span class="p">}</span>
    <span class="o">%&gt;</span>
    <span class="nv">sorter: </span><span class="nf">(items) -&gt;</span>
      <span class="nx">$</span><span class="p">.</span><span class="nx">map</span> <span class="nx">items</span><span class="p">,</span> <span class="nf">(o) -&gt;</span>
        <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span> <span class="nx">o</span>
    <span class="nv">matcher: </span><span class="nf">(item) -&gt;</span>
      <span class="mi">0</span> <span class="o">&lt;=</span> <span class="nx">item</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="nx">indexOf</span> <span class="nx">@query</span>
    <span class="nv">updater: </span><span class="nf">(item) -&gt;</span>
      <span class="nv">item = </span><span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span> <span class="nx">item</span>
      <span class="nb">window</span><span class="p">.</span><span class="nv">location = </span><span class="nx">item</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
      <span class="kc">null</span>
    <span class="nv">highlighter: </span><span class="nf">(item) -&gt;</span>
      <span class="nv">item = </span><span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span> <span class="nx">item</span>
      <span class="s">&quot;&lt;a href=\&quot;</span><span class="si">#{</span><span class="nx">item</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s">\&quot;&gt;</span><span class="si">#{</span><span class="nx">item</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s">&lt;/a&gt;&quot;</span>
</code></pre></div>
<p>That&rsquo;s all! You can start jekyll server now to <a href="https://github.com/ixti/jekyll-assets-demo/commit/c6303d783bf1ac2bfcea6654ddcebd68b787e50a">see it</a> in action.</p>

<h3>The world is not enough</h3>

<p>It&rsquo;s time to say jekyll-assets to minify our compiled assets. It&rsquo;s as easy
as <a href="https://github.com/ixti/jekyll-assets-demo/commit/3152ff5cb0ee19b663abd20d4d118faedd84d5fd">adding few lines</a> into your <code>_config.yml</code> file:</p>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="l-Scalar-Plain">assets</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">compress</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">css</span><span class="p-Indicator">:</span>  <span class="l-Scalar-Plain">sass</span>
    <span class="l-Scalar-Plain">js</span><span class="p-Indicator">:</span>   <span class="l-Scalar-Plain">uglifier</span>
</code></pre></div>
<p>For detailed information about possible configuration options refer
<a href="http://ixti.net/jekyll-assets/">jekyll-assets</a> or contact me.</p>

</article>



<!-- DISQUS -->
<div id="disqus_thread"></div>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


    <ul id="bottom-navigation" class="navbar">
      
        <li><a href="/archives/2014.html">2014</a></li>
      
        <li><a href="/archives/2013.html">2013</a></li>
      
        <li><a href="/archives/2012.html">2012</a></li>
      
        <li><a href="/archives/2011.html">2011</a></li>
      
        <li><a href="/archives/2010.html">2010</a></li>
      
    </ul>

    <footer id="footer" role="contentinfo">
      kindly generated by <a href="https://github.com/mojombo/jekyll">Jekyll</a>
      ~
      crafted by <a href="http://ixti.net">ixti</a>
      using <a href="http://gimp.org/">Gimp</a>
      and <a href="http://www.vim.org/">Vim</a>
      ~
      copyright &copy; 2010 Aleksey V Zapparov AKA ixti
    </footer>
  </body>
</html>
